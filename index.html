import React, { useState, useEffect, useRef, useMemo } from 'react';
import {
  Shield,
  Wind,
  Flame,
  FlaskConical,
  ClipboardCheck,
  Phone,
  Mail,
  MapPin,
  Menu,
  X,
  CheckCircle2,
  Globe,
  Users,
  Award,
  ChevronDown,
  ArrowRight
} from 'lucide-react';

/* --- DATA --- */

const SERVICES_DATA = [
  {
    id: 'site-inspection',
    title: "Site Inspections",
    icon: ClipboardCheck,
    shortDesc: "Rigorous evaluations by certified experts to identify risks and ensure strict regulatory adherence.",
    fullDesc: "Our comprehensive site inspections are designed to identify potential hazards before they become liabilities. We conduct thorough walkthroughs of construction sites, industrial facilities, and commercial properties, ensuring alignment with OSHA, DOB, and local safety regulations.",
    benefits: ["OSHA & DOB Compliance Checks", "Hazard Identification & Risk Assessment", "Daily, Weekly, or Monthly Reporting", "Corrective Action Plans"],
    formValue: "Site Inspection"
  },
  {
    id: 'lab-analysis',
    title: "Lab Analysis",
    icon: FlaskConical,
    shortDesc: "State-of-the-art testing for environmental hazards with rapid, comprehensive reporting.",
    fullDesc: "We leverage accredited laboratories to provide precise analysis of environmental samples. Whether you are dealing with unknown materials or routine compliance testing, our detailed reports provide the clarity you need to make informed decisions.",
    benefits: ["Asbestos & Lead Testing", "Mold & Spore Analysis", "Water Quality Testing", "24-48 Hour Turnaround Available"],
    formValue: "Lab Analysis"
  },
  {
    id: 'air-quality',
    title: "Air Quality",
    icon: Wind,
    shortDesc: "Advanced monitoring systems to detect contaminants and ensure breathable, safe environments.",
    fullDesc: "Breathing safe air is non-negotiable. Our air quality monitoring services utilize advanced telemetry to track particulate matter, volatile organic compounds (VOCs), and other airborne contaminants in real-time, protecting both workers and the public.",
    benefits: ["Real-time Dust Monitoring", "Community Air Monitoring Plans (CAMP)", "Indoor Air Quality (IAQ) Assessments", "Vapor Intrusion Studies"],
    formValue: "Air Quality Monitoring"
  },
  {
    id: 'fire-safety',
    title: "Fire Safety",
    icon: Flame,
    shortDesc: "Strategic assessments and planning to mitigate fire risks and protect your most valuable assets.",
    fullDesc: "Fire safety goes beyond having extinguishers. We help you develop comprehensive fire protection strategies, including evacuation planning, system audits, and code compliance reviews to ensure your property and people remain safe.",
    benefits: ["Fire Safety Plans", "Emergency Evacuation Drills", "Fire Extinguisher Inspections", "FDNY Code Compliance Reviews"],
    formValue: "Fire Safety Assessment"
  }
];

/* --- HOOKS & UTILS --- */

const useOnScreen = (options, triggerOnce = true) => {
  const ref = useRef(null);
  const [isVisible, setIsVisible] = useState(false);
  
  // Memorize options to prevent IntersectionObserver from re-running on every render
  const memoizedOptions = useMemo(() => options, [JSON.stringify(options)]);

  useEffect(() => {
    const observer = new IntersectionObserver(([entry]) => {
      if (entry.isIntersecting) {
        setIsVisible(true);
        if (triggerOnce && ref.current) {
          observer.unobserve(ref.current);
        }
      }
    }, memoizedOptions);

    if (ref.current) {
      observer.observe(ref.current);
    }

    return () => {
      if (ref.current) observer.unobserve(ref.current);
    };
  }, [ref, memoizedOptions, triggerOnce]);

  return [ref, isVisible];
};

/* --- COMPONENTS --- */

const Reveal = ({ children, className = "", delay = 0, direction = "up" }) => {
  // Lower threshold to ensure content appears readily even on small screens
  const [ref, isVisible] = useOnScreen({ threshold: 0.1 });

  const directionClass = {
    up: isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-12",
    down: isVisible ? "opacity-100 translate-y-0" : "opacity-0 -translate-y-12",
    left: isVisible ? "opacity-100 translate-x-0" : "opacity-0 translate-x-12",
    right: isVisible ? "opacity-100 translate-x-0" : "opacity-0 -translate-x-12",
  };

  return (
    <div
      ref={ref}
      className={`transition-all duration-1000 cubic-bezier(0.16, 1, 0.3, 1) ${directionClass[direction]} ${className}`}
      style={{ transitionDelay: `${delay}ms` }}
    >
      {children}
    </div>
  );
};

const Logo = ({ className = "h-10", dark = false }) => (
  <svg viewBox="0 0 300 60" className={className} fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M50 5C50 5 85 5 85 30C85 55 50 60 50 60C50 60 15 55 15 30C15 5 50 5 50 5Z" 
      stroke={dark ? "#0f172a" : "#ffffff"} strokeWidth="3" fill={dark ? "#ffffff" : "transparent"}/>
    <path d="M50 5V60" stroke={dark ? "#0f172a" : "#ffffff"} strokeWidth="2"/>
    <path d="M20 30H80" stroke={dark ? "#0f172a" : "#ffffff"} strokeWidth="2"/>
    <path d="M25 15H75" stroke={dark ? "#0f172a" : "#ffffff"} strokeWidth="2"/>
    <path d="M25 45H75" stroke={dark ? "#0f172a" : "#ffffff"} strokeWidth="2"/>
    
    <path d="M15 30C15 30 12 50 30 58C30 58 20 55 17 40C15 30 15 30 15 30Z" fill="#22c55e"/>
    <path d="M15 30C15 30 20 20 35 30C35 30 25 25 15 30Z" fill="#15803d"/>
    
    <text x="100" y="42" fontFamily="serif" fontWeight="bold" fontSize="38" fill={dark ? "#0f172a" : "#ffffff"} letterSpacing="0.05em">NYSS</text>
  </svg>
);

const ServiceCard = ({ service, delay, onLearnMore }) => {
  const Icon = service.icon;
  return (
    <Reveal delay={delay} className="group relative h-full">
      <div className="absolute inset-0 bg-gradient-to-br from-emerald-600 to-slate-900 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 -z-10 blur-sm transform group-hover:scale-105"></div>
      <div 
        onClick={() => onLearnMore(service)}
        className="relative h-full bg-white p-8 rounded-2xl shadow-lg border border-slate-100 group-hover:border-transparent transition-all duration-300 group-hover:-translate-y-2 overflow-hidden cursor-pointer"
      >
        
        {/* Decorative background element */}
        <div className="absolute top-0 right-0 w-32 h-32 bg-slate-50 rounded-bl-full -mr-8 -mt-8 transition-transform group-hover:scale-110 group-hover:bg-emerald-50 duration-500"></div>

        <div className="relative z-10">
          <div className="w-14 h-14 bg-slate-50 rounded-xl flex items-center justify-center mb-6 group-hover:bg-emerald-600 transition-colors duration-300 shadow-sm">
            <Icon className="w-7 h-7 text-slate-700 group-hover:text-white transition-colors duration-300" />
          </div>
          
          <h3 className="text-xl font-bold text-slate-900 mb-3 font-serif group-hover:text-emerald-700 transition-colors">{service.title}</h3>
          <p className="text-slate-600 leading-relaxed text-sm">{service.shortDesc}</p>
          
          <button 
            className="mt-6 flex items-center text-emerald-600 text-sm font-semibold opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0 transition-all duration-300 bg-transparent border-none p-0 cursor-pointer"
          >
            Learn more <ArrowRight className="w-4 h-4 ml-1" />
          </button>
        </div>
      </div>
    </Reveal>
  );
};

const ServiceModal = ({ service, onClose, onContact }) => {
  if (!service) return null;
  const Icon = service.icon;

  return (
    <div className="fixed inset-0 z-[60] flex items-center justify-center p-4">
      <div className="absolute inset-0 bg-slate-900/80 backdrop-blur-sm transition-opacity" onClick={onClose}></div>
      {/* Use standard CSS animation class defined in style tag instead of tailwind plugin classes */}
      <div className="relative bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-modalIn">
        <button 
          onClick={onClose}
          className="absolute top-4 right-4 p-2 bg-slate-100 hover:bg-slate-200 rounded-full transition-colors text-slate-600 z-10"
        >
          <X size={20} />
        </button>

        <div className="p-8 md:p-10">
          <div className="flex items-center gap-4 mb-6">
            <div className="w-16 h-16 bg-emerald-100 rounded-2xl flex items-center justify-center text-emerald-700">
              <Icon size={32} />
            </div>
            <div>
              <h3 className="text-3xl font-serif font-bold text-slate-900">{service.title}</h3>
              <p className="text-emerald-600 font-medium">Professional Service Detail</p>
            </div>
          </div>

          <div className="prose prose-slate max-w-none mb-8">
            <p className="text-lg text-slate-600 leading-relaxed">
              {service.fullDesc}
            </p>
          </div>

          <div className="bg-slate-50 rounded-xl p-6 mb-8 border border-slate-100">
            <h4 className="text-sm font-bold uppercase tracking-wider text-slate-400 mb-4">Key Benefits</h4>
            <ul className="grid sm:grid-cols-2 gap-4">
              {service.benefits.map((benefit, idx) => (
                <li key={idx} className="flex items-start gap-3">
                  <CheckCircle2 className="w-5 h-5 text-emerald-500 shrink-0 mt-0.5" />
                  <span className="text-slate-700 font-medium text-sm">{benefit}</span>
                </li>
              ))}
            </ul>
          </div>

          <div className="flex flex-col sm:flex-row gap-4">
            <button 
              onClick={() => onContact(service.formValue)}
              className="flex-1 bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-emerald-500/30 flex items-center justify-center gap-2"
            >
              Request Quote
              <ArrowRight size={18} />
            </button>
            <button 
              onClick={onClose}
              className="flex-1 bg-white hover:bg-slate-50 text-slate-700 font-bold py-4 px-6 rounded-xl border border-slate-200 transition-all"
            >
              Close Details
            </button>
          </div>
        </div>
      </div>
    </div>
  );
};

const StatCard = ({ number, label }) => (
  <div className="text-center p-6 border-r last:border-0 border-slate-200/20">
    <div className="text-4xl md:text-5xl font-bold text-white mb-2 font-serif">{number}</div>
    <div className="text-emerald-200 text-sm font-medium uppercase tracking-wider">{label}</div>
  </div>
);

const Navbar = () => {
  const [isOpen, setIsOpen] = useState(false);
  const [isScrolled, setIsScrolled] = useState(false);

  useEffect(() => {
    const handleScroll = () => setIsScrolled(window.scrollY > 20);
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const navLinks = [
    { name: 'Services', href: '#services' },
    { name: 'About', href: '#about' },
    { name: 'Contact', href: '#contact' },
  ];

  return (
    <>
      <nav className={`fixed w-full z-50 transition-all duration-500 ${
        isScrolled 
          ? 'bg-white/90 backdrop-blur-md shadow-lg py-3 text-slate-800' 
          : 'bg-transparent py-6 text-white'
      }`}>
        <div className="container mx-auto px-6 flex justify-between items-center">
          <a href="#" className="flex items-center gap-3 group">
            <Logo className="h-10 w-auto transition-transform duration-300 group-hover:scale-105" dark={isScrolled} />
            <div className="hidden md:block">
              <span className={`block text-2xl font-serif font-bold leading-tight transition-colors ${isScrolled ? 'text-slate-900' : 'text-white'}`}>
                New York
              </span>
              <span className={`block text-xs font-bold tracking-[0.2em] uppercase transition-colors ${isScrolled ? 'text-emerald-600' : 'text-emerald-300'}`}>
                Safety Services
              </span>
            </div>
          </a>

          <div className="hidden md:flex items-center gap-8">
            {navLinks.map((link) => (
              <a
                key={link.name}
                href={link.href}
                className={`font-medium text-sm tracking-wide uppercase hover:text-emerald-500 transition-all relative group ${
                    isScrolled ? 'text-slate-600' : 'text-slate-200'
                }`}
              >
                {link.name}
                <span className="absolute -bottom-2 left-0 w-0 h-0.5 bg-emerald-500 transition-all duration-300 group-hover:w-full"></span>
              </a>
            ))}
            <a 
              href="tel:9178477337" 
              className={`px-6 py-2.5 rounded-full font-bold text-sm transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5 flex items-center gap-2 ${
                isScrolled 
                  ? 'bg-slate-900 text-white hover:bg-emerald-700' 
                  : 'bg-white text-slate-900 hover:bg-emerald-50'
              }`}
            >
              <Phone size={16} />
              (917) 847-7337
            </a>
          </div>

          <button 
            className={`md:hidden p-2 rounded-lg transition-colors ${isScrolled ? 'text-slate-900 hover:bg-slate-100' : 'text-white hover:bg-white/10'}`} 
            onClick={() => setIsOpen(!isOpen)}
          >
            {isOpen ? <X size={24} /> : <Menu size={24} />}
          </button>
        </div>
      </nav>

      {/* Mobile Menu Overlay */}
      <div className={`fixed inset-0 z-40 bg-slate-900/95 backdrop-blur-xl transition-all duration-500 md:hidden flex items-center justify-center ${isOpen ? 'opacity-100 pointer-events-auto' : 'opacity-0 pointer-events-none'}`}>
        <div className="flex flex-col items-center gap-8">
            {navLinks.map((link) => (
              <a
                key={link.name}
                href={link.href}
                onClick={() => setIsOpen(false)}
                className="text-2xl font-serif text-white hover:text-emerald-400 transition-colors"
              >
                {link.name}
              </a>
            ))}
            <a 
                href="tel:9178477337" 
                className="mt-4 px-8 py-4 bg-emerald-600 text-white rounded-full font-bold text-lg flex items-center gap-3 shadow-xl"
            >
                <Phone size={20} />
                Call Now
            </a>
        </div>
      </div>
    </>
  );
};

export default function App() {
  const [selectedService, setSelectedService] = useState('General Inquiry');
  const [activeServiceModal, setActiveServiceModal] = useState(null);

  const handleLearnMore = (service) => {
    setActiveServiceModal(service);
  };

  const handleModalContact = (serviceValue) => {
    setSelectedService(serviceValue);
    setActiveServiceModal(null);
    const contactSection = document.getElementById('contact');
    if (contactSection) {
      setTimeout(() => {
        contactSection.scrollIntoView({ behavior: 'smooth' });
      }, 100);
    }
  };

  return (
    <div className="font-sans antialiased text-slate-800 bg-slate-50 selection:bg-emerald-200 selection:text-emerald-900 overflow-x-hidden">
      <style>{`
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@400;600;700;800&display=swap');
        
        :root {
          --font-sans: 'Inter', sans-serif;
          --font-serif: 'Playfair Display', serif;
        }
        
        body { font-family: var(--font-sans); }
        h1, h2, h3, h4, .font-serif { font-family: var(--font-serif); }
        
        .cubic-bezier { transition-timing-function: cubic-bezier(0.16, 1, 0.3, 1); }
        
        @keyframes slowZoom {
          0% { transform: scale(1); }
          100% { transform: scale(1.15); }
        }
        .animate-slowZoom { animation: slowZoom 20s ease-out infinite alternate; }
        
        @keyframes float {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-10px); }
        }
        .animate-float { animation: float 6s ease-in-out infinite; }
        
        /* Standard modal animation */
        @keyframes modalIn {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-modalIn { animation: modalIn 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
      `}</style>

      <Navbar />
      
      {/* Service Detail Modal */}
      {activeServiceModal && (
        <ServiceModal 
          service={activeServiceModal} 
          onClose={() => setActiveServiceModal(null)} 
          onContact={handleModalContact} 
        />
      )}

      {/* HERO SECTION */}
      <header id="home" className="relative h-screen min-h-[800px] flex items-center justify-center overflow-hidden">
        {/* Background Layer with Zoom Effect */}
        <div className="absolute inset-0 z-0 overflow-hidden bg-slate-900">
          <div className="absolute inset-0 bg-gradient-to-r from-slate-900/90 via-slate-900/70 to-emerald-900/60 z-20"></div>
          <img
            src="https://images.unsplash.com/photo-1504328345606-18bbc8c9d7d1?auto=format&fit=crop&q=80"
            alt="New York Skyline and Safety"
            className="w-full h-full object-cover animate-slowZoom opacity-60 z-10"
          />
        </div>

        {/* Content */}
        <div className="container mx-auto px-6 relative z-30 pt-20">
          <div className="max-w-5xl mx-auto text-center">
            <Reveal direction="down">
              <div className="inline-flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-md rounded-full border border-white/20 mb-8 shadow-2xl">
                <CheckCircle2 size={16} className="text-emerald-400" />
                <span className="text-emerald-100 text-xs font-bold uppercase tracking-widest">NY & NJ Premier Compliance Experts</span>
              </div>
            </Reveal>
            
            <Reveal delay={200}>
              <h1 className="text-5xl md:text-7xl lg:text-8xl font-bold text-white mb-8 leading-[1.1] tracking-tight">
                Safety is not just <br/>
                <span className="text-transparent bg-clip-text bg-gradient-to-r from-emerald-300 to-teal-200">a priority.</span>
                <span className="block text-4xl md:text-6xl font-normal italic mt-2 text-slate-300">It's our guarantee.</span>
              </h1>
            </Reveal>

            <Reveal delay={400}>
              <p className="text-lg md:text-xl text-slate-300 mb-10 max-w-2xl mx-auto font-light leading-relaxed">
                Led by Richard Rober, we deliver precision inspections, environmental monitoring, and unwavering compliance solutions.
              </p>
            </Reveal>

            <Reveal delay={600} className="flex flex-col sm:flex-row gap-5 justify-center">
              <a href="#contact" className="px-10 py-4 bg-emerald-600 hover:bg-emerald-500 text-white rounded-full font-bold text-lg transition-all shadow-[0_10px_40px_-10px_rgba(16,185,129,0.5)] hover:shadow-[0_20px_60px_-15px_rgba(16,185,129,0.6)] hover:-translate-y-1">
                Schedule Consultation
              </a>
              <a href="#services" className="px-10 py-4 bg-white/5 hover:bg-white/10 text-white border border-white/20 rounded-full font-bold text-lg transition-all backdrop-blur-sm flex items-center justify-center gap-2 group">
                Explore Services
                <ArrowRight size={18} className="group-hover:translate-x-1 transition-transform" />
              </a>
            </Reveal>
          </div>
        </div>

        {/* Scroll Indicator */}
        <div className="absolute bottom-10 left-1/2 -translate-x-1/2 z-30 animate-bounce text-white/50">
           <ChevronDown size={32} />
        </div>
      </header>

      {/* STATS STRIP */}
      <section className="relative z-40 -mt-20 container mx-auto px-6">
        <div className="bg-slate-900 rounded-2xl p-8 shadow-2xl border-t border-slate-700 grid grid-cols-2 md:grid-cols-4 gap-4">
           <StatCard number="30+" label="Years Experience" />
           <StatCard number="100%" label="Compliance Rate" />
           <StatCard number="NY/NJ" label="Area Coverage" />
           <StatCard number="24/7" label="Client Support" />
        </div>
      </section>

      {/* SERVICES SECTION */}
      <section id="services" className="py-32 bg-slate-50">
        <div className="container mx-auto px-6">
          <div className="flex flex-col md:flex-row justify-between items-end mb-20">
            <Reveal className="max-w-2xl">
                <span className="text-emerald-600 font-bold uppercase tracking-widest text-sm mb-2 block">Our Expertise</span>
                <h2 className="text-4xl md:text-6xl font-bold text-slate-900">Comprehensive <br/>Safety Solutions</h2>
            </Reveal>
            <Reveal delay={200} className="hidden md:block">
                <p className="text-slate-500 max-w-sm text-right leading-relaxed">
                    Tailored solutions delivering precision, ensuring compliance, and peace of mind for every client.
                </p>
            </Reveal>
          </div>

          <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
            {SERVICES_DATA.map((service, index) => (
              <ServiceCard
                key={service.id}
                service={service}
                delay={index * 150}
                onLearnMore={handleLearnMore}
              />
            ))}
          </div>
        </div>
      </section>

      {/* ABOUT SECTION - BROKEN GRID LAYOUT */}
      <section id="about" className="py-32 bg-white overflow-hidden">
        <div className="container mx-auto px-6">
          <div className="flex flex-col lg:flex-row items-center gap-16 lg:gap-24">
            
            {/* Image Side */}
            <div className="lg:w-1/2 relative">
                <Reveal direction="right">
                    <div className="relative z-10 rounded-2xl overflow-hidden shadow-2xl">
                        <img
                        src="https://images.unsplash.com/photo-1581094794329-c8112a89af12?auto=format&fit=crop&q=80"
                        alt="Safety Inspection"
                        className="w-full h-[600px] object-cover"
                        />
                        <div className="absolute inset-0 bg-gradient-to-t from-slate-900 to-transparent opacity-80"></div>
                        <div className="absolute bottom-8 left-8 text-white">
                            <h3 className="text-3xl font-bold mb-1">Richard Rober</h3>
                            <p className="text-emerald-400 font-medium">Founder & Lead Consultant</p>
                        </div>
                    </div>
                </Reveal>
                {/* Decorative Back Box */}
                <div className="absolute top-10 -left-10 w-full h-full border-2 border-emerald-100 rounded-2xl -z-0 hidden lg:block"></div>
            </div>

            {/* Text Side */}
            <div className="lg:w-1/2">
              <Reveal>
                <div className="flex items-center gap-4 mb-6">
                    <div className="h-px bg-slate-200 flex-1"></div>
                    <span className="text-emerald-600 font-bold uppercase tracking-widest text-xs">About The Firm</span>
                </div>
                <h2 className="text-4xl md:text-5xl font-bold text-slate-900 mb-8 leading-tight">
                  A Legacy of <span className="text-emerald-700 italic">Excellence</span> <br/> 
                  Built on Trust.
                </h2>
                <p className="text-lg text-slate-600 mb-6 leading-relaxed">
                  Founded by Richard Rober, New York Safety Services stands as a beacon of reliability in environmental and safety compliance. With over three decades of industry leadership, we don't just meet standardsâ€”we set them.
                </p>
                <p className="text-slate-500 mb-10 leading-relaxed font-light">
                  Our commitment maximizes safety while minimizing downtime. We understand the unique regulatory landscape of the Tri-State area, allowing us to navigate complexities that others simply cannot.
                </p>
              </Reveal>

              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                {[
                    { icon: Award, title: "Certified Masters", desc: "Industry-leading credentials." },
                    { icon: Globe, title: "Regional Experts", desc: "Deep NY/NJ regulatory knowledge." },
                    { icon: Shield, title: "Risk Mitigation", desc: "Proactive safety strategies." },
                    { icon: Users, title: "Client First", desc: "Dedicated partnership approach." }
                ].map((item, idx) => (
                    <Reveal key={idx} delay={idx * 100} className="flex items-start gap-4 p-4 rounded-xl hover:bg-slate-50 transition-colors">
                        <div className="bg-emerald-100/50 p-3 rounded-lg text-emerald-700">
                            <item.icon size={24} />
                        </div>
                        <div>
                            <h4 className="font-bold text-slate-900">{item.title}</h4>
                            <p className="text-sm text-slate-500">{item.desc}</p>
                        </div>
                    </Reveal>
                ))}
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* CONTACT SECTION - DARK MODE */}
      <section id="contact" className="py-32 bg-slate-900 relative overflow-hidden">
        {/* Abstract Shapes */}
        <div className="absolute top-0 right-0 w-[600px] h-[600px] bg-emerald-900/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"></div>
        <div className="absolute bottom-0 left-0 w-[400px] h-[400px] bg-blue-900/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"></div>

        <div className="container mx-auto px-6 relative z-10">
          <div className="text-center mb-20">
            <Reveal>
                <h2 className="text-4xl md:text-6xl font-bold text-white mb-6">Let's Secure Your Future</h2>
                <p className="text-xl text-slate-400 max-w-2xl mx-auto font-light">
                Ready to elevate your safety standards? Contact Richard Rober and his team for a personalized consultation today.
                </p>
            </Reveal>
          </div>

          <div className="grid lg:grid-cols-5 gap-12 bg-white/5 backdrop-blur-sm rounded-3xl p-8 md:p-12 border border-white/10 shadow-2xl">
            {/* Contact Info */}
            <div className="lg:col-span-2 space-y-10">
                <Reveal delay={100}>
                    <h3 className="text-2xl font-serif font-bold text-white mb-8">Contact Information</h3>
                    
                    <div className="space-y-8">
                        <div className="flex items-start gap-6 group">
                            <div className="w-12 h-12 rounded-full bg-emerald-500/10 flex items-center justify-center text-emerald-400 group-hover:bg-emerald-500 group-hover:text-white transition-all">
                                <Phone size={24} />
                            </div>
                            <div>
                                <p className="text-sm text-slate-400 uppercase tracking-wider font-semibold mb-1">Call Us Directly</p>
                                <a href="tel:9178477337" className="text-2xl font-bold text-white hover:text-emerald-400 transition-colors">917 847 7337</a>
                            </div>
                        </div>

                        <div className="flex items-start gap-6 group">
                            <div className="w-12 h-12 rounded-full bg-emerald-500/10 flex items-center justify-center text-emerald-400 group-hover:bg-emerald-500 group-hover:text-white transition-all">
                                <Mail size={24} />
                            </div>
                            <div>
                                <p className="text-sm text-slate-400 uppercase tracking-wider font-semibold mb-1">Email Us</p>
                                <a href="mailto:newyorksafetyservices@yahoo.com" className="text-lg font-medium text-white hover:text-emerald-400 transition-colors break-all">newyorksafetyservices@yahoo.com</a>
                            </div>
                        </div>

                        <div className="flex items-start gap-6 group">
                            <div className="w-12 h-12 rounded-full bg-emerald-500/10 flex items-center justify-center text-emerald-400 group-hover:bg-emerald-500 group-hover:text-white transition-all">
                                <MapPin size={24} />
                            </div>
                            <div>
                                <p className="text-sm text-slate-400 uppercase tracking-wider font-semibold mb-1">Service Area</p>
                                <p className="text-lg font-medium text-white">New York & New Jersey Metro</p>
                            </div>
                        </div>
                    </div>
                </Reveal>
            </div>

            {/* Form */}
            <div className="lg:col-span-3 bg-white rounded-2xl p-8 md:p-10 shadow-xl">
              <form className="space-y-6" onSubmit={(e) => e.preventDefault()}>
                <div className="grid md:grid-cols-2 gap-6">
                  <div>
                    <label className="block text-sm font-bold text-slate-700 mb-2">Name</label>
                    <input type="text" className="w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none transition-all" placeholder="John Doe" />
                  </div>
                  <div>
                    <label className="block text-sm font-bold text-slate-700 mb-2">Phone</label>
                    <input type="tel" className="w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none transition-all" placeholder="(555) 000-0000" />
                  </div>
                </div>
                
                <div>
                  <label className="block text-sm font-bold text-slate-700 mb-2">Service Needed</label>
                  <select 
                    value={selectedService} 
                    onChange={(e) => setSelectedService(e.target.value)}
                    className="w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none transition-all"
                  >
                    <option value="General Inquiry">General Inquiry</option>
                    <option value="Site Inspection">Site Inspection</option>
                    <option value="Lab Analysis">Lab Analysis</option>
                    <option value="Air Quality Monitoring">Air Quality Monitoring</option>
                    <option value="Fire Safety Assessment">Fire Safety Assessment</option>
                  </select>
                </div>

                <div>
                  <label className="block text-sm font-bold text-slate-700 mb-2">Message</label>
                  <textarea rows="4" className="w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none transition-all" placeholder="How can we help you?"></textarea>
                </div>

                <button className="w-full py-4 bg-slate-900 hover:bg-emerald-700 text-white font-bold rounded-lg shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 flex justify-center items-center gap-2">
                  Send Message
                  <ArrowRight size={18} />
                </button>
              </form>
            </div>
          </div>
        </div>
      </section>

      {/* FOOTER */}
      <footer className="bg-slate-950 text-slate-400 py-16 border-t border-slate-800">
        <div className="container mx-auto px-6">
          <div className="flex flex-col md:flex-row justify-between items-center gap-8">
            <div className="text-center md:text-left">
                <div className="flex items-center gap-3 justify-center md:justify-start mb-4">
                    <Logo className="h-8 w-auto" />
                    <span className="text-white font-serif font-bold text-xl">NYSS</span>
                </div>
                <p className="text-sm max-w-xs mx-auto md:mx-0">
                    Setting the gold standard for safety and environmental compliance in the Tri-State area.
                </p>
            </div>
            
            <div className="flex gap-8 text-sm font-medium">
                <a href="#home" className="hover:text-emerald-400 transition-colors">Home</a>
                <a href="#services" className="hover:text-emerald-400 transition-colors">Services</a>
                <a href="#about" className="hover:text-emerald-400 transition-colors">About</a>
                <a href="#contact" className="hover:text-emerald-400 transition-colors">Contact</a>
            </div>

            <div className="text-center md:text-right text-xs opacity-60">
              <p>&copy; {new Date().getFullYear()} New York Safety Services.</p>
              <p className="mt-1">All rights reserved.</p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  );
}
